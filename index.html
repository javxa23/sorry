<!DOCTYPE html>
<html lang="mn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—É—á–ª–∞–∞—Ä–∞–π —Ö–∞–π—Ä –∞–∞</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: "Arial", sans-serif;
        background: linear-gradient(to top right, #fbc2eb, #a6c1ee);
        background-attachment: fixed;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .center {
        text-align: center;
        z-index: 2;
        position: relative;
        width: 90%;
        max-width: 500px;
      }

      .start-btn,
      .forgive-btn {
        padding: 15px 30px;
        font-size: 1.2em;
        border: none;
        border-radius: 10px;
        background: #ff69b4;
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s;
      }

      .start-btn:hover,
      .forgive-btn:hover {
        transform: scale(1.05);
      }

      .message {
        font-size: 1.3em;
        color: #fff;
        margin: 20px 0;
        display: none;
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
      }

      .message.active {
        display: block;
        animation: fadeIn 1s ease-in-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .memory-container {
        position: relative;
        margin-top: 20px;
        width: 100%;
        max-width: 400px;
        margin: 20px auto;
      }

      .memory {
        display: none;
        width: 100%;
        text-align: center;
        z-index: 3;
      }

      .memory img {
        width: 100%;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        opacity: 0;
        animation: fadeIn 2s ease-in forwards;
      }

      .memory p {
        margin-top: 15px;
        font-size: 1.2em;
        color: #c9184a;
        font-weight: bold;
        opacity: 0;
        animation: fadeIn 2s ease-in forwards;
        animation-delay: 1s;
      }

      .date-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2em;
        font-weight: bold;
        color: #fff;
        background: rgba(0, 0, 0, 0.5);
        padding: 10px 20px;
        border-radius: 10px;
        z-index: 10;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
      }

      @keyframes dateChange {
        0% {
          transform: translate(-50%, -50%) scale(1);
        }
        50% {
          transform: translate(-50%, -50%) scale(1.1);
        }
        100% {
          transform: translate(-50%, -50%) scale(1);
        }
      }

      /* –¶—ç—Ü—ç–≥ —É–Ω–∞—Ö —ç—Ñ—Ñ–µ–∫—Ç */
      .flower {
        position: fixed;
        top: -50px;
        z-index: 99;
        font-size: 30px;
        user-select: none;
        pointer-events: none;
        animation: flowerFall linear forwards;
      }

      @keyframes flowerFall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        80% {
          opacity: 0.8;
        }
        100% {
          transform: translateY(120vh) rotate(360deg);
          opacity: 0;
        }
      }

      /* –ó“Ø—Ä—Ö —Ö”©”©—Ä”©—Ö —ç—Ñ—Ñ–µ–∫—Ç */
      .heart {
        position: fixed;
        bottom: -50px;
        z-index: 99;
        font-size: 30px;
        user-select: none;
        pointer-events: none;
        animation: heartRise linear forwards;
      }

      @keyframes heartRise {
        0% {
          transform: translateY(0) scale(1);
          opacity: 1;
        }
        80% {
          opacity: 0.7;
        }
        100% {
          transform: translateY(-120vh) scale(0.5);
          opacity: 0;
        }
      }

      /* –≠–ª–µ–º–µ–Ω—Ç“Ø“Ø–¥–∏–π–Ω –¥–∞–≤—Ö–∞—Ä–≥–∞ */
      #emojis-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        pointer-events: none;
        overflow: hidden;
      }

      /* GIF —Å—Ç–∞–π–ª */
      .message-gif {
        width: 200px;
        height: auto;
        margin: 10px auto;
        border-radius: 10px;
        display: block;
      }

      .button-gif {
        width: 100px;
        height: auto;
        display: block;
        margin: 0 auto 15px;
      }
    </style>
  </head>
  <body>
    <!-- –≠–º–æ–¥–∂–∏ –∞–≥—É—É–ª–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="emojis-container"></div>

    <div class="center">
      <img
        src="upvolume.gif"
        id="volumeGif"
        class="button-gif"
        alt="Volume Up"
      />
      <button class="start-btn" id="startBtn">
        –£—Ç–∞—Å–Ω—ã –¥—É—É–≥–∞–∞ –∂–∞–∞—Ö–∞–Ω —á–∞–Ω–≥–∞–ª–∞–∞–¥ —ç—Ö–ª“Ø“Ø–ª—ç—ç—Ä—ç–πüîä‚ù§Ô∏è
      </button>

      <div class="message" id="msg1">
        <img src="mybad.gif" class="message-gif" alt="My Bad" />
        –•–∞–π—Ä—ã–≥–∞–∞ “Ø–Ω—ç—Ö—ç—ç—Ä –∏—Ö —É—É—á–ª–∞–∞—Ä–∞–π, —Ö–∞–π—Ä—ã–≥–∞–∞ “Ø–Ω—ç—Ö—ç—ç—Ä –∏—Ö –≥–æ–º–¥–æ–æ—Å–æ–æ–Ω —Ö–∞–π—Ä –Ω—åüòî
      </div>

      <div class="message" id="msg2">
        <img src="princesslen.gif" class="message-gif" alt="Princess" />
        –ì“Ø–Ω–∂–ª—ç–Ω –º–∏–Ω—å –º–∏–Ω–∏–π –∞–º—å–¥–∞—Ä–ª—ã–Ω —Ö–∞–º–≥–∏–π–Ω —Ç–æ–º –∞–∑ –∂–∞—Ä–≥–∞–ª —é–º —à“Ø“Ø –¥—ç—çüëëüíó
      </div>

      <div class="message" id="msg3">
        <img src="sorry.gif" class="message-gif" alt="Sorry" />
        –•–∞–π—Ä –Ω—å —Ö–∞–π—Ä–∞–∞—Å–∞–∞ —é—É —á –Ω—É—É—Ö–≥“Ø–π —ç—ç, –∞–ª–¥–∞–∞–≥–∞–∞ –º–∞—à —Å–∞–π–Ω –æ–π–ª–≥–æ—Å–æ–æ–Ω üôè
      </div>

      <div class="message" id="msg4">
        <img src="us.gif" class="message-gif" alt="Us" />
        –ú—É—É—Ö–∞–π –∑“Ø–π–ª—ç—ç—Å –±“Ø—Ä—ç–Ω —Ç–∞—Ç–≥–∞–ª–∑–∞–∂ —Ö–∞–º—Ç–¥–∞–∞ —ç—Ä“Ø“Ø–ª –∞–º—å–¥—Ä–∞—Ö –±–æ–ª–Ω–æ–æ üíû
      </div>

      <div class="message" id="msg5">
        <img src="cry.gif" class="message-gif" alt="Crying" />
        –•–∞–π—Ä–¥–∞–∞ –≥–∞–Ω—Ü –±–æ–ª–æ–º–∂ –æ–ª–≥–æ–æ—á –≥—ç–∂ —Ö–∏—á—ç—ç–Ω–≥“Ø–π–ª—ç–Ω –≥—É–π–∂ –±–∞–π–Ω–∞ üò≠üôá‚Äç‚ôÇÔ∏è
      </div>

      <button class="forgive-btn" id="forgiveBtn" style="display: none">
        –ì—É–π–∂ –±–∞–π–Ω–∞ –Ω–∞–º–∞–π–≥ –¥–∞—Ä–∞–∞—Ä–∞–πü´∞‚ù§Ô∏è
      </button>

      <div class="memory-container">
        <div class="memory" id="memory">
          <img id="memoryImage" src="image1.jpeg" alt="–î—É—Ä—Å–∞–º–∂" />
          <p id="memoryText">–ë–∏–¥–Ω–∏–π –∞–Ω—Ö–Ω—ã –∑—É—Ä–∞–≥ ü•∫üíû</p>
        </div>
        <div id="dateText" class="date-text" style="display: none">
          2022.02.11
        </div>
      </div>
    </div>

    <audio id="backgroundMusic" src="song.mp3" loop></audio>

    <script>
      const button = document.getElementById("startBtn");
      const volumeGif = document.getElementById("volumeGif");
      const messages = [
        document.getElementById("msg1"),
        document.getElementById("msg2"),
        document.getElementById("msg3"),
        document.getElementById("msg4"),
        document.getElementById("msg5"),
      ];
      const forgiveBtn = document.getElementById("forgiveBtn");
      const memory = document.getElementById("memory");
      const memoryImage = document.getElementById("memoryImage");
      const memoryText = document.getElementById("memoryText");
      const dateText = document.getElementById("dateText");
      const backgroundMusic = document.getElementById("backgroundMusic");
      const emojisContainer = document.getElementById("emojis-container");

      // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ö–∞—Ä–∏–ª—Ü–∞–∞ “Ø“Ø—Å–≥—ç—Å–Ω—ç—ç—Ä –¥—É—É —ç—Ö–ª“Ø“Ø–ª—ç—Ö
      document.addEventListener(
        "click",
        function () {
          backgroundMusic
            .play()
            .catch((e) => console.log("–î—É—É–≥ —ç—Ö–ª“Ø“Ø–ª—ç—Ö—ç–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞:", e));
        },
        { once: true }
      );

      button.addEventListener("click", () => {
        button.style.display = "none";
        volumeGif.style.display = "none"; // Hide the volume GIF when button is clicked

        let index = 0;
        const showMessage = () => {
          if (index > 0) messages[index - 1].classList.remove("active");
          if (index < messages.length) {
            messages[index].classList.add("active");
            index++;
            setTimeout(showMessage, 5000);
          } else {
            setTimeout(() => {
              forgiveBtn.style.display = "inline-block";
            }, 1000);
          }
        };

        showMessage();
      });

      // –¶—ç—Ü—ç–≥ —É–Ω–∞–≥–∞–∞—Ö —Ñ—É–Ω–∫—Ü
      function createFlower() {
        const flower = document.createElement("div");
        flower.className = "flower";
        flower.innerHTML = "üå∏";
        flower.style.left = Math.random() * 100 + "vw";
        flower.style.animationDuration = Math.random() * 3 + 5 + "s";
        emojisContainer.appendChild(flower);

        setTimeout(() => {
          flower.remove();
        }, 8000);
      }

      // –ó“Ø—Ä—Ö —Ö”©”©—Ä–≥”©—Ö —Ñ—É–Ω–∫—Ü
      function createHeart() {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerHTML = "‚ù§Ô∏è";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = Math.random() * 3 + 6 + "s";
        emojisContainer.appendChild(heart);

        setTimeout(() => {
          heart.remove();
        }, 9000);
      }

      let flowerInterval;
      let heartInterval;

      forgiveBtn.addEventListener("click", () => {
        forgiveBtn.style.display = "none";
        memory.style.display = "block";
        dateText.style.display = "block";
        if (navigator.vibrate) {
          navigator.vibrate([200, 100, 200]);
        }

        // –≠—Ö–ª—ç—Ö –æ–≥–Ω–æ–æ
        let startDate = new Date(2022, 1, 11); // 2022.02.11
        let endDate = new Date(2025, 3, 11); // 2025.04.11 (JavaScript —Å–∞—Ä 0-—ç—ç—Å —ç—Ö—ç–ª–¥—ç–≥)
        let totalTime = 6000; // 3 —Å–µ–∫—É–Ω–¥
        let startTime = Date.now();

        function updateDate() {
          let now = Date.now();
          let progress = Math.min((now - startTime) / totalTime, 1);

          if (progress < 1) {
            // –•—É–≥–∞—Ü–∞–∞–Ω—ã –¥–∞–≥—É—É –æ–≥–Ω–æ–æ–≥ —à–∏–ª–∂“Ø“Ø–ª—ç—Ö
            let currentTimestamp =
              startDate.getTime() +
              progress * (endDate.getTime() - startDate.getTime());
            let currentDate = new Date(currentTimestamp);

            let year = currentDate.getFullYear();
            let month = currentDate.getMonth() + 1; // JavaScript —Å–∞—Ä 0-—ç—ç—Å —ç—Ö—ç–ª–¥—ç–≥
            let day = currentDate.getDate();

            // –û–≥–Ω–æ–æ —Ñ–æ—Ä–º–∞—Ç–ª–∞—Ö
            dateText.innerText = `${year}.${month
              .toString()
              .padStart(2, "0")}.${day.toString().padStart(2, "0")}`;

            // –ê–Ω–∏–º—ç–π—à–Ω
            dateText.style.animation = "dateChange 0.6s ease";
            setTimeout(() => {
              dateText.style.animation = "";
            }, 300);

            requestAnimationFrame(updateDate);
          } else {
            // –•—É–≥–∞—Ü–∞–∞ –¥—É—É—Å—Å–∞–Ω - —ç—Ü—Å–∏–π–Ω –æ–≥–Ω–æ–æ
            const date = new Date();

            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, "0"); // –°–∞—Ä—ã–Ω –∏–Ω–¥–µ–∫—Å –Ω—å 0-—Å —ç—Ö—ç–ª–¥—ç–≥
            const day = String(date.getDate()).padStart(2, "0");

            dateText.innerText = `${year}.${month}.${day}`;

            // –•–∞–º—Ç –±–∞–π—Å–∞–Ω —Ö–æ–Ω–æ–≥–∏–π–Ω —Ç–æ–æ–≥ —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
            const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
            const daysBetween = Math.round(
              Math.abs((endDate - startDate) / oneDay)
            );

            // –ó—É—Ä–∞–≥ —Å–æ–ª–∏—Ö
            memoryImage.src = "image2.jpg";
            memoryText.innerText = `–ë–∏–¥ ${daysBetween} ”©–¥—Ä–∏–π–≥ —Ö–∞–º—Ç–¥–∞–∞ ”©–Ω–≥”©—Ä“Ø“Ø–ª—Å—ç–Ω –±–∞–π–Ω–∞üíû. “Æ“Ø—Ä–¥ —Ö–∞–º—Ç–¥–∞–∞ –±–∞–π–º–∞–∞—Ä –±–∞–π–Ω–∞üò≠ü•∫. ”®–¥–∏–π–≥ —Ö“Ø—Ä—Ç—ç–ª —Ö–∞–π—Ä—ã–≥–∞–∞ —Ç–æ–æ–∂ —Ö–∞–π—Ä–ª–∞–∂ –±–∞–π–≥–∞–∞ —Ö–∞–π—Ä–¥–∞–∞ “Ø–Ω—ç—Ö—ç—ç—Ä –∏—Ö –±–∞—è—Ä–ª–∞–ª–∞–∞ —Ö–∞–π—Ä –Ω—å –∏–ª“Ø“Ø —Å–∞–π–Ω —Ö–∏—á—ç—ç—Ö –±–æ–ª–Ω–æ–æüíó`;
          }
        }

        updateDate();
      });
      // –≠—Ñ—Ñ–µ–∫—Ç —ç—Ö–ª“Ø“Ø–ª—ç—Ö - —à—É—É–¥ —ç—Ö–Ω–∏–π —Ç–æ–æ –±“Ø—Ç—ç—ç—Ö
      createFlower();
      createHeart();

      // –¢–æ–≥—Ç–º–æ–ª —Ö—É–≥–∞—Ü–∞–∞–Ω–¥ —à–∏–Ω—ç —ç–º–æ–¥–∂–∏ “Ø“Ø—Å–≥—ç—Ö
      flowerInterval = setInterval(createFlower, 800);
      heartInterval = setInterval(createHeart, 1200);
    </script>
  </body>
</html>
